apiVersion: v1
kind: ConfigMap
metadata:
  name: user-config
  namespace: isa-cloud-staging
  labels:
    app: user
    tier: applications
data:
  # Environment
  ENVIRONMENT: "staging"
  DEBUG: "true"
  LOG_LEVEL: "INFO"

  # Consul (用于服务注册)
  CONSUL_ENABLED: "true"
  CONSUL_HOST: "consul-agent.isa-cloud-staging.svc.cluster.local"
  CONSUL_PORT: "8500"

  # gRPC Services (所有基础设施通过 gRPC 访问)
  POSTGRES_GRPC_HOST: "postgres-grpc.isa-cloud-staging.svc.cluster.local"
  POSTGRES_GRPC_PORT: "50061"

  REDIS_GRPC_HOST: "redis-grpc.isa-cloud-staging.svc.cluster.local"
  REDIS_GRPC_PORT: "50055"

  NATS_GRPC_HOST: "nats-grpc.isa-cloud-staging.svc.cluster.local"
  NATS_GRPC_PORT: "50056"

  MINIO_GRPC_HOST: "minio-grpc.isa-cloud-staging.svc.cluster.local"
  MINIO_GRPC_PORT: "50051"

  MQTT_GRPC_HOST: "mqtt-grpc.isa-cloud-staging.svc.cluster.local"
  MQTT_GRPC_PORT: "50053"

  NEO4J_GRPC_HOST: "neo4j-grpc.isa-cloud-staging.svc.cluster.local"
  NEO4J_GRPC_PORT: "50063"

  QDRANT_GRPC_HOST: "qdrant-grpc.isa-cloud-staging.svc.cluster.local"
  QDRANT_GRPC_PORT: "50062"

  DUCKDB_GRPC_HOST: "duckdb-grpc.isa-cloud-staging.svc.cluster.local"
  DUCKDB_GRPC_PORT: "50052"

  LOKI_GRPC_HOST: "loki-grpc.isa-cloud-staging.svc.cluster.local"
  LOKI_GRPC_PORT: "50054"

  # MCP Service (Intelligence/Analytics)
  MCP_ENDPOINT: "http://mcp.isa-cloud-staging.svc.cluster.local:8081"

  # ISA Model Service (AI extraction + embeddings)
  ISA_MODEL_URL: "http://model.isa-cloud-staging.svc.cluster.local:8082"

  # JWT Authentication
  JWT_SECRET: "your-secure-jwt-secret-min-32-chars-replace-in-production"
  JWT_ALGORITHM: "HS256"
  JWT_EXPIRATION: "3600"

  # Stripe (Staging test keys - replace with actual keys in production)
  STRIPE_SECRET_KEY: "sk_test_YOUR_STRIPE_SECRET_KEY_HERE"
  STRIPE_WEBHOOK_SECRET: "whsec_YOUR_STRIPE_WEBHOOK_SECRET_HERE"
